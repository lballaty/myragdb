# File: /Users/liborballaty/LocalProjects/GitHubProjectsDocuments/myragdb/.env.example
# Description: Environment variables template for MyRAGDB
# Author: Libor Ballaty <libor@arionetworks.com>
# Created: 2026-01-04
# Last Updated: 2026-01-07

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development
DEBUG=false

# Server Configuration
MYRAGDB_HOST=0.0.0.0
MYRAGDB_PORT=3002
MYRAGDB_WORKERS=4

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL for metadata and credentials
DATABASE_URL=postgresql://myragdb:password@localhost:5432/myragdb
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_ECHO=false

# ============================================================================
# SEARCH CONFIGURATION
# ============================================================================

# Meilisearch for keyword search
MEILISEARCH_URL=http://localhost:7700
MEILISEARCH_API_KEY=development-key
MEILISEARCH_INDEX_PREFIX=myragdb

# Chroma for vector search
CHROMA_URL=http://localhost:8000
CHROMA_COLLECTION_NAME=myragdb_vectors

# Search Configuration
MYRAGDB_DEFAULT_LIMIT=10
MYRAGDB_MAX_LIMIT=100
MYRAGDB_KEYWORD_WEIGHT=0.4
MYRAGDB_VECTOR_WEIGHT=0.6

# ============================================================================
# EMBEDDING CONFIGURATION
# ============================================================================

# Embedding Model
MYRAGDB_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
MYRAGDB_EMBEDDING_DEVICE=cpu
MYRAGDB_EMBEDDING_BATCH_SIZE=32

# ============================================================================
# INDEXING CONFIGURATION
# ============================================================================

MYRAGDB_CHUNK_SIZE=1000
MYRAGDB_BATCH_SIZE=100

# Repository paths to index (comma-separated)
INDEX_REPOSITORIES=/path/to/repo1,/path/to/repo2

# File types to index
INDEX_INCLUDE_EXTENSIONS=.md,.py,.ts,.tsx,.dart

# Exclude patterns
INDEX_EXCLUDE_PATTERNS=node_modules,venv,.git,__pycache__,archive-*,*.lock

# ============================================================================
# LLM PROVIDER CONFIGURATION
# ============================================================================

# Claude API
CLAUDE_API_KEY=

# OpenAI/ChatGPT API
OPENAI_API_KEY=

# Google Gemini API
GEMINI_API_KEY=

# ============================================================================
# AUTHENTICATION CONFIGURATION
# ============================================================================

# Auth storage directory
AUTH_STORAGE_DIR=~/.myragdb

# Auth encryption key (generate with: openssl rand -hex 32)
AUTH_ENCRYPTION_KEY=

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

MYRAGDB_LOG_LEVEL=INFO
MYRAGDB_LOG_FILE=./logs/myragdb.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
LOG_FORMAT=json

# ============================================================================
# DATA PATHS
# ============================================================================

MYRAGDB_DATA_DIR=./data
MYRAGDB_INDEX_DIR=./data/indexes
MYRAGDB_METADATA_DB=./data/metadata/myragdb.sqlite

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# Secret key for sessions (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=change-me-in-production

# Maximum request size (MB)
MAX_REQUEST_SIZE_MB=10

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3003
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOW_HEADERS=*

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ============================================================================
# HEALTH MONITORING
# ============================================================================

HEALTH_CHECK_INTERVAL_SECONDS=30
CPU_ALERT_THRESHOLD_PERCENT=80
MEMORY_ALERT_THRESHOLD_PERCENT=85
DISK_ALERT_THRESHOLD_PERCENT=90
ERROR_RATE_ALERT_THRESHOLD_PERCENT=5

# ============================================================================
# EXECUTION CONFIGURATION
# ============================================================================

EXECUTION_TIMEOUT_SECONDS=300
WORKFLOW_CACHE_ENABLED=true
WORKFLOW_CACHE_TTL_MINUTES=60

# ============================================================================
# EXTERNAL SERVICES (Optional)
# ============================================================================

# Slack integration
SLACK_WEBHOOK_URL=

# Email notifications
SMTP_SERVER=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
ADMIN_EMAIL=
