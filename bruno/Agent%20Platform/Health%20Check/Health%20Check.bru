meta {
  name: Health Check
  type: http
  seq: 1
  tags: @health, @smoke, @fast
}

get {
  url: {{api_base_url}}{{agent_base_path}}/health
}

assert {
  res.status: eq 200
  res.body.status: eq "healthy"
  res.body.message: contains "operational"
}

tests {
  test("Should return healthy status", function() {
    expect(res.status).to.equal(200);
    expect(res.body.status).to.equal("healthy");
  });

  test("Should have message field", function() {
    expect(res.body).to.have.property("message");
  });
}
