# Non-Repository Directories - UI Design

**File:** /Users/liborballaty/LocalProjects/GitHubProjectsDocuments/myragdb/DIRECTORIES_UI_DESIGN.md
**Description:** Visual and interaction design for directory management and search filtering
**Author:** Libor Ballaty <libor@arionetworks.com>
**Created:** 2026-01-07

---

## Settings Page - Directories Tab

### Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš™ï¸ Settings                                          [Back to Search] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â”‚ Navigation  â”‚  Directories                                   â”‚  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â”‚ â€º Repos     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â€º Directories   â”‚ ~/projects/documentation                    â”‚  â”‚  â”‚
â”‚  â”‚   General   â”‚  â”‚ Name: Documentation           [Edit]    â”‚  â”‚  â”‚
â”‚  â”‚   Search    â”‚  â”‚ Path: /Users/user/projects/documentation    â”‚  â”‚  â”‚
â”‚  â”‚   Advanced  â”‚  â”‚ Status: âœ… Enabled â€¢ 2,341 files indexed â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Last indexed: 1 hour ago                  â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Size: 845 MB                              â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚                                           â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ [Reindex] [Disable] [Remove]             â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ ~/archive/research                           â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Name: Research Archive       [Edit]     â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Path: /Users/user/archive/research          â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Status: â¸ï¸  Disabled â€¢ 0 files searched   â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Last indexed: 3 days ago                  â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Size: 1.2 GB                              â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚                                           â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ [Reindex] [Enable] [Remove]              â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ ~/Downloads/shared-docs                      â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Name: Shared Docs            [Edit]     â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Path: /Users/user/Downloads/shared-docs     â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Status: âœ… Enabled â€¢ 456 files indexed   â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Last indexed: 30 minutes ago               â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ Size: 234 MB                              â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚                                           â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â”‚ [Reindex] [Disable] [Remove]             â”‚  â”‚  â”‚
â”‚  â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â”‚             â”‚  [+ Add New Directory]                          â”‚  â”‚
â”‚  â”‚             â”‚                                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Directory Card Component

#### Collapsed State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ~/projects/documentation         [Edit][Showâ–¼]  â”‚
â”‚    Documentation â€¢ âœ… Enabled â€¢ 1h ago             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Expanded State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ ~/projects/documentation         [Edit][Hideâ–²]      â”‚
â”‚    Documentation â€¢ âœ… Enabled â€¢ 1 hour ago              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚ Path:        /Users/user/projects/documentation        â”‚
â”‚ Size:        845 MB                                    â”‚
â”‚ Files:       2,341 indexed                             â”‚
â”‚ Created:     Jan 2, 2025                               â”‚
â”‚ Last Index:  Jan 7, 2025 at 2:30 PM                    â”‚
â”‚                                                          â”‚
â”‚ Indexing Status                                          â”‚
â”‚ â”œâ”€ Keyword Index:   âœ… Complete (2,341 files)          â”‚
â”‚ â””â”€ Vector Index:    âœ… Complete (2,341 files)          â”‚
â”‚                                                          â”‚
â”‚ Actions:                                                â”‚
â”‚ [Reindex] [Reindex Full] [Disable] [Edit] [Remove]    â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Add Directory Dialog

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Add New Directory              [âœ•]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚ Directory Path *                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ /Users/user/projects/__________ [Browse...] â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                  â”‚
â”‚ Display Name *                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ My Documentation Project___________________  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                  â”‚
â”‚ Notes (optional)                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ Shared team documentation and guides         â”‚â”‚
â”‚ â”‚                                              â”‚â”‚
â”‚ â”‚                                              â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                  â”‚
â”‚ â˜‘ Enable this directory for search               â”‚
â”‚                                                  â”‚
â”‚ [Cancel]  [Add Directory]                       â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Directory Browser (Tree Picker)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select Directory                    [âœ•]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚ Search: [________] [ğŸ” Find]               â”‚
â”‚                                            â”‚
â”‚ â–¼ Users                                    â”‚
â”‚   â–¼ user                                   â”‚
â”‚     â–¼ projects                             â”‚
â”‚       â–¼ GitHubProjectsDocuments            â”‚
â”‚         â—‹ xLLMArionComply                  â”‚
â”‚         â—‹ RepoDot                          â”‚
â”‚       â—‹ mysite                             â”‚
â”‚       â–¶ archive                            â”‚
â”‚     â–¼ Documents                            â”‚
â”‚       â—‹ Personal Notes                     â”‚
â”‚       â—‹ Research Papers                    â”‚
â”‚     â–¼ Downloads                            â”‚
â”‚       â—‹ shared-docs  â† (can select here)   â”‚
â”‚                                            â”‚
â”‚ Recent:                                    â”‚
â”‚ â€¢ /Users/user/Documents/Research           â”‚
â”‚ â€¢ /Users/user/Downloads/shared-docs        â”‚
â”‚                                            â”‚
â”‚ [Bookmarks â–¼]  [Cancel]  [Select]         â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Search Page - Filters Integration

### Filters Panel (New State)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      FILTERS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚
â”‚ REPOSITORIES         â”‚
â”‚ â˜‘ xLLMArionComply    â”‚
â”‚ â˜‘ RepoDot            â”‚
â”‚ â˜ ArionNetworks      â”‚
â”‚                      â”‚
â”‚ [Select All] [None]  â”‚
â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚
â”‚ DIRECTORIES          â”‚ â† NEW SECTION
â”‚ â–¼ Documentation      â”‚
â”‚   â˜‘ My Docs (2.3K)   â”‚
â”‚   â˜‘ Research (456)   â”‚
â”‚   â˜ Archive (0)      â”‚
â”‚                      â”‚
â”‚ â–¶ Downloads          â”‚
â”‚   â˜‘ shared-docs (23) â”‚
â”‚                      â”‚
â”‚ [Select All] [None]  â”‚
â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚
â”‚ FILE TYPES           â”‚
â”‚ â˜‘ .md                â”‚
â”‚ â˜‘ .py                â”‚
â”‚ â˜‘ .ts                â”‚
â”‚ â˜ .dart              â”‚
â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚
â”‚ SEARCH MODE          â”‚
â”‚ â— Hybrid             â”‚
â”‚ â—‹ Keyword            â”‚
â”‚ â—‹ Semantic           â”‚
â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Hierarchical Directory Display

The directories section shows:
- **Group by Parent:** Directories organized by top-level folder
- **Collapsible:** Click to expand/collapse groups
- **File Count:** Shows how many indexed files in each
- **Status Indicator:** âœ“ for enabled, âœ— for disabled

Example:
```
â–¼ Project Directories (3,541 files)
  â˜‘ xLLMArionComply/docs     (2,341 files)
  â˜‘ RepoDot/documentation    (1,200 files)

â–¼ Personal (1,256 files)
  â˜‘ Research Archive         (890 files)
  â˜ Old Projects (disabled)  (366 files)

â–¶ External (0 files)
  (collapsed)
```

### Search Results with Source Information

```
Results (12 found in 234ms)

ğŸ“„ Authentication Flow Guide
   ğŸ“ Documentation â€¢ ğŸ“… 2 days ago
   Score: 0.95 | Keyword: 0.92 | Vector: 0.97

   ...JWT tokens are validated using Supabase
   authentication. The flow begins with user
   login and ends with session creation...

   [ğŸ“‚ Open] [ğŸ“‹ Copy] [ğŸ‘ï¸ Preview]

ğŸ“„ auth.py
   ğŸ“¦ xLLMArionComply â€¢ ğŸ“… 1 week ago
   Score: 0.87 | Keyword: 0.85 | Vector: 0.89

   async def authenticate_user(token: str):
       """Validate JWT and create session..."""

   [ğŸ“‚ Open] [ğŸ“‹ Copy] [ğŸ‘ï¸ Preview]

ğŸ“„ setup-guide.md
   ğŸ“ Research Archive â€¢ ğŸ“… 3 days ago  â† Directory source
   Score: 0.81 | Keyword: 0.78 | Vector: 0.84

   ...To set up authentication for your
   application, follow these steps...

   [ğŸ“‚ Open] [ğŸ“‹ Copy] [ğŸ‘ï¸ Preview]
```

---

## Component Specifications

### DirectoriesPage.tsx
- Full page layout with sidebar navigation
- Displays DirectoryList component
- Add button at bottom
- Empty state message when no directories

### DirectoryCard.tsx
- Collapsible card showing directory info
- Displays: name, path, status, file count, size, timestamps
- Action buttons: Edit, Reindex, Disable/Enable, Remove
- Expandable details section with indexing stats

### DirectoryForm.tsx
- Modal form for adding/editing directories
- Fields: Path (with Browse button), Name, Notes, Enabled toggle
- Validation: Path must exist and be readable
- Browse button opens DirectoryBrowser (tree picker)

### DirectoryBrowser.tsx
- File system tree picker
- Search capability to filter directories
- Recent directories list
- Bookmarks support
- Single path selection

### SearchFilters.tsx (Modified)
- New DIRECTORIES section parallel to REPOSITORIES
- Hierarchical display (grouped by parent)
- Collapsible groups
- File count display
- Select All / Clear All buttons

---

## Interactions & User Flows

### Add Directory Flow
1. User clicks "[+ Add New Directory]"
2. Add Directory dialog opens
3. User clicks "Browse..." or types path
4. DirectoryBrowser modal opens
5. User selects directory from tree
6. Path fills in automatically
7. User enters name and optional notes
8. User clicks "Add Directory"
9. Directory is indexed
10. Dialog closes, directory appears in list

### Edit Directory Flow
1. User clicks "Edit" on a directory card
2. Directory Form dialog opens with current values
3. User modifies name/notes
4. User toggles enabled/disabled if needed
5. User clicks "Save Changes"
6. Dialog closes, card updates

### Search with Directory Filtering Flow
1. User types search query
2. Filters panel shows on left
3. User expands DIRECTORIES section if collapsed
4. User checks/unchecks specific directories
5. Search results update to include only selected directories
6. Results show source (repository or directory name)
7. User can click result to preview in separate pane

### Reindex Directory Flow
1. User clicks "Reindex" on directory card
2. Card shows reindexing progress bar
3. After completion, "Last indexed" timestamp updates
4. File count may change if files were added/removed

### Disable Directory Flow
1. User clicks "Disable" on directory card
2. Directory becomes grayed out, showing "Disabled"
3. Directory no longer appears in search filters
4. User can click "Enable" to re-activate

---

## Mobile Responsive Behavior

### Tablet (768px - 1199px)
- Filters sidebar becomes collapsible/hidden by default
- Directory cards displayed full width
- Modal dialogs remain readable
- Tree picker optimized for touch

### Mobile (< 768px)
- Single column layout
- Filters as bottom sheet or hidden behind button
- Directory cards full width
- Modal becomes full-screen
- Tree picker simplified (less nesting)

---

## State & Loading States

### Directory Card States
- **Loading:** Spinner, "Indexing..." message
- **Success:** âœ… checkmark, "Indexed X files"
- **Error:** âš ï¸ icon, "Index failed" with error message
- **Disabled:** ğŸ”’ icon, grayed out appearance

### Directory List States
- **Empty:** "No directories yet. [+ Add Directory]"
- **Loading:** Spinner, "Loading directories..."
- **Loaded:** Display all directory cards
- **Error:** "Failed to load directories. Retry?"

### Search Filter States
- **Uncollapsed:** Shows all directory options
- **Collapsed:** Shows "[+] X directories" button
- **All Selected:** "[â–¼] All X directories selected"
- **Some Selected:** "[â–¼] X of Y selected"
- **None Selected:** "[+] Add directories to search"

---

## Color & Visual Design

### Directory-Specific Colors
- **Primary Icon:** ğŸ“ (folder emoji)
- **Status Badges:**
  - âœ… Green for "Enabled"
  - â¸ï¸ Gray for "Disabled"
  - ğŸ”„ Blue for "Indexing"
  - âš ï¸ Orange for "Error"

### Visual Hierarchy
- **Directory Name:** Large, bold
- **Path:** Small, monospace, gray
- **Status:** Medium, colored
- **Stats:** Small, gray

### Spacing & Layout
- Card padding: 16px
- Section margins: 24px
- Action buttons: 8px gap between them
- Icon-text gap: 8px

---

## Error Handling UI

### Invalid Path Error
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Cannot add directory   â”‚
â”‚                          â”‚
â”‚ Path does not exist:    â”‚
â”‚ /Users/user/nonexistent  â”‚
â”‚                          â”‚
â”‚ [Try Again] [Cancel]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Permission Error
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ Permission Denied                 â”‚
â”‚                                      â”‚
â”‚ Cannot read directory:               â”‚
â”‚ /Users/user/restricted               â”‚
â”‚                                      â”‚
â”‚ This directory may be protected by   â”‚
â”‚ system security policies.            â”‚
â”‚                                      â”‚
â”‚ [Dismiss]                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Indexing Error
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Directory: ~/projects/documentation      â”‚
â”‚ Status: âš ï¸ Index failed                  â”‚
â”‚                                          â”‚
â”‚ Error: Could not read 3 files            â”‚
â”‚ Last attempt: 5 minutes ago              â”‚
â”‚                                          â”‚
â”‚ [Try Again] [Show Details] [Dismiss]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Keyboard & Accessibility

### Keyboard Shortcuts (Future)
- `Cmd+D` - Open Add Directory dialog
- `j/k` - Navigate directory list (if focused)
- `Enter` - Edit selected directory
- `Delete` - Remove directory (with confirmation)

### ARIA Labels
```typescript
<button aria-label="Add new directory">
  [+ Add Directory]
</button>

<section aria-label="Managed directories">
  {/* directory cards */}
</section>

<input aria-label="Search directories" />
```

### Focus Management
- Tab order: Add button â†’ Directory cards â†’ Edit buttons
- Focus indicators visible on all interactive elements
- Modal dialogs trap focus

---

## Search Results Enhancement

### Result Card Source Information
```
Current:
ğŸ“„ docs/auth-flow.md
   ğŸ“¦ xLLMArionComply â€¢ ğŸ“… 2 days ago

New:
ğŸ“„ docs/auth-flow.md
   ğŸ“ Documentation â€¢ ğŸ“… 2 days ago    â† Shows "Directory name"

or

ğŸ“„ docs/auth-flow.md
   ğŸ“¦ xLLMArionComply â€¢ ğŸ“… 2 days ago  â† Still shows repo for repo files
```

### Filter Application Feedback
```
Before filtering by directory:
"12 results found in 234ms"
[Source icons: ğŸ“¦ xLLMArionComply (8) | ğŸ“ Documentation (4)]

After user selects only Documentation:
"4 results found in 98ms (filtered)"
[Source icons: ğŸ“ Documentation (4) â–¼]
```

---

## Performance Considerations

### Render Optimization
- Virtualize directory list if > 50 items
- Lazy-load directory stats on expand
- Debounce search input in tree picker
- Memoize directory card components

### Search Optimization
- Directory filter updates search in real-time
- Debounce with 300ms delay
- Show "Filtering..." status during update
- Cache search results client-side

---

## Design System Alignment

### Typography
- **Directory Names:** Headline 6 (500px+) / Headline 7 (<500px)
- **Path:** Caption
- **Status:** Body 2
- **Stats:** Caption

### Spacing Scale
- `xs`: 4px
- `sm`: 8px
- `md`: 16px
- `lg`: 24px
- `xl`: 32px

### Component Reuse
- Use existing Button, Input, Modal components
- Create new DirectoryCard, DirectoryForm as composed components
- Apply existing color scheme and iconography

---

**Questions:** libor@arionetworks.com
